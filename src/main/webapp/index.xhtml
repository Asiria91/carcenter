<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
                template="/templates/template.xhtml">

<h:head>
    <title>Lista de Mecánicos</title>
</h:head>

    <ui:define name="content">
    <h:form>
        <p:dataTable var="mecanico" value="#{mecanicoBean.mecanicos}" paginator="true" rows="10"
                     emptyMessage="No hay mecánicos en la lista">
            <p:column headerText="Documento">
                <h:outputText value="#{mecanico.documento}" />
            </p:column>
            <p:column headerText="Nombre">
                <h:outputText value="#{mecanico.primerNombre} #{mecanico.primerApellido}" />
            </p:column>
            <p:column headerText="Celular">
                <h:outputText value="#{mecanico.celular}" />
            </p:column>
            <p:column headerText="Acciones">
                <p:commandLink action="#{mecanicoBean.edit(mecanico.id)}" immediate="true" title="Editar">
                    <p:graphicImage name="icons/edit.png" width="24" />
                </p:commandLink>

                <p:commandLink action="#{mecanicoBean.view(mecanico.id)}" immediate="true" title="Detalles">
                    <p:graphicImage name="icons/view.png" width="24" />
                </p:commandLink>

                <p:commandLink action="#{mecanicoBean.delete(mecanico.id)}" immediate="true" title="Eliminar"
                               onclick="return confirm('¿Estás seguro de que deseas eliminar este mecánico?')">
                    <p:graphicImage name="icons/delete.png" width="24" />
                </p:commandLink>
            </p:column>
        </p:dataTable>

        <p:commandButton value="Agregar Mecánico" action="#{mecanicoBean.redirectToAdd}" />
    </h:form>
    </ui:define>
</ui:composition>
